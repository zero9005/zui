<!-- https://lbs.qq.com/guides/place_search.html -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>选择收货地址</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/base.css" />
		<link rel="stylesheet" href="//at.alicdn.com/t/font_1161948_rytcudyfuyi.css" />
		<style>
			.search-input-wrap {
				padding: 5px;
				display: flex;
				border-bottom: 1px solid #ccc;
			}
			.search-input-wrap label {
				padding: 5px;
				margin-right: 10px;
			}
			.search-input-wrap input {
				flex: 1;
				border: none;
			}
			#app {
			}
			
			.city-picker {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: #fff;
			}
			.city-picker .search-wrap {
				display: flex;
				position: relative;
				top: 0;
				left: 0;
				width: 100%;
				padding: 10px 15px;
				flex-direction: row;
				align-items: center;
				font-size: 14px;
				color: #999;
				z-index: 1;
				background: #fff;
				box-sizing: border-box;
				border-bottom: 1px solid #e4e4e4;
			}
			.city-picker .input-wrap {
				margin-left: 6px;
				flex: 1 0 0;
				position: relative;
			}
			.city-picker .input-wrap input {
				width: 100%;
				font-size: 14px;
				line-height: 22px;
				border: none;
				outline: none;
			}
			.city-picker .right-btn {
				width: 38px;
				text-align: center;
			}
			.city-picker .city-container {
				width: 90%;
			}
			
		</style>
	</head>
	<body>
		<div id="app">
			<div class="search-input-wrap">
				<label class="fs-12" @click="selectCity">
					<i class="iconfont icondizhi" style="font-size: 13px;"></i>
					{{region}}<i class="iconfont iconunfold" style="font-size: 12px;"></i>
				</label>
				<input class="fs-12" placeholder="请输入关键字" v-model="keyword" />
			</div>
			
			<div class="city-picker">
				<div class="search-wrap">
					<i class="iconfont iconsearch"></i>
					<div class="input-wrap">
						<input type="text" placeholder="城市中文或者拼音" />
					</div>
					<div class="right-btn">取消</div>
				</div>
				<div class="city-container">
					<div class="hot-city-container">
						<p>热门城市</p>
					</div>
				</div>
			</div>
			
		</div>
		
		<script src="../js/vue.js"></script>
		<script src="../js/app.js"></script>
		<script>
			
			var opencity
			
			App.http({
				url: '../js/opencity.js',
				success: function(res) {
					opencity = res
				}
			})
			
			new Vue({
				el: '#app',
				data() {
					return {
						keyword: '',
						region: '东莞市'
					}
				},
				methods: {
					listSearchTips(kw) {
						if (!kw && kw.trim() == '') return
						var data = {
							region: this.region,
							kw: kw
						}
						App.http({
							url: "http://localhost:8095/rest/mapsearch/tm",
							data: data,
							success: function(res) {
								console.log(res)
							}
						})
					},
					selectCity() {
						console.log("click selectCity")
					}
				},
				watch:{
					keyword(newVal) {
						this.listSearchTips(newVal)
					}
				}
			})
			
		</script>
		
	</body>
</html>
